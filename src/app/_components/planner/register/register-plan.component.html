<section class="app-content-box" [title]="'REGISTERPLANCOMPONENT.Header'">

  <div content class="row">
    <form class="col-md-8">
      <div class="form-group row">
        <label for="title" class="col-sm-4 col-form-label">{{ 'REGISTERPLANCOMPONENT.Plan.title' | translate}}:</label>
        <div class="col-sm-8">
          <input [(ngModel)]="plan.title" name="title" type="text" class="form-control" placeholder="">
        </div>
      </div>
      <div class="form-group row">
        <label for="budget" class="col-sm-4 col-form-label">{{ 'REGISTERPLANCOMPONENT.Plan.budget' | translate}}:</label>
        <div class="col-sm-8">
          <input [(ngModel)]="plan.budget" name="budget" type="text" class="form-control" placeholder="">
        </div>
      </div>
      <div class="form-group row">
        <label for="description" class="col-sm-12 col-form-label">{{ 'REGISTERPLANCOMPONENT.Plan.decsription' | translate}}:</label>
        <div class="col-sm-12">
          <textarea [(ngModel)]="plan.description" name="description" type="text" class="form-control" placeholder=""></textarea>
        </div>
      </div>
      <div class="form-group row">
        <label for="deadline" class="col-sm-4 col-form-label">{{ 'REGISTERPLANCOMPONENT.Plan.deadline' | translate}}:</label>
        <div class="col-sm-8">
          <input [(ngModel)]="plan.deadline" type="text" name="deadline" class="form-control" placeholder="">
        </div>
      </div>
    </form>

    <div class="col-md-4 plan-participants">
      <label class="label">{{ 'REGISTERPLANCOMPONENT.Plan.participants' | translate}}:</label>
      <ul class="list-group">
        <ng-container *ngFor="let user of plan.Participants; let i = index;">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <img class="userpic" *ngIf="user.avatar" src="{{user.avatar.location + 'thumbnails/' + user.avatar.title}}" alt="{{user.avatar.title}}">
            <img class="userpic" *ngIf="!user.avatar" src="./assets/images/userpic/noimage_croped.png" alt="noimage">
            <span>{{user.name + ' ' + user.surname}}</span>
            <span class="badge badge-danger badge-pill">
              <i class="fas fa-times text-white" (click)="plan.Participants.splice(plan.Participants.indexOf(user), 1);"></i>
            </span>
          </li>
        </ng-container>
        <button class="list-group-item list-group-item-action active" (click)="addParticipantDialog()">{{ 'REGISTERPLANCOMPONENT.Actions.addParticipant' | translate}}</button>
      </ul>
    </div>

  </div>

  <div buttons>
    <button class="btn btn-primary" (click)="onClickSubmit()">{{ 'REGISTERPLANCOMPONENT.Actions.submit' | translate}}</button>
  </div>

</section>

<app-attachments *ngIf="plan" [attachments]="plan.Documents" [editForm]="true"></app-attachments>
