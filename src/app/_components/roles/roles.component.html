<!--
<section class="app-content-box" [title]="'ROLES.Search.header'" [cssClass]="'search-advanced'">

</section>
-->
<section class="app-content-box" [title]="'ROLESCOMPONENT.List.header'" [showDataLoader]="true">

  <div buttons class="btn-group-horizontal">
    <button mat-raised-button color="primary" class="crm-button" routerLink="/roles/add"><mat-icon>add</mat-icon><span i18n="@@rolesComponentDialogActionsCreate">Create</span></button>
  </div>

  <table *ngIf="roles && roles.length>0" id="rolelist" content class="table table-sm table-responsive-sm table-hover crm-table">
    <thead>
      <th><mat-checkbox (click)="$event.stopPropagation()" (change)="selectAll($event)" [indeterminate]="selectedRoles.length > 0 && selectedRoles.length < roles.length" [checked]="!notSelectedRoles.length"></mat-checkbox></th>
      <th i18n="@@rolesComponentDialogListTitle">Title</th>
      <th i18n="@@rolesComponentDialogListUserCount">Users</th>
      <th i18n="@@rolesComponentDialogListPrivilegesCount">Privileges</th>
      <th i18n="@@rolesComponentDialogListCreatedAt">Created At</th>
      <th i18n="@@rolesComponentDialogListUpdatedAt">Updated At</th>
    </thead>
    <tbody>
      <tr routerLink="/roles/details/{{role.id}}" *ngFor="let role of roles;">
        <td (click)="$event.stopPropagation()"><mat-checkbox [(ngModel)]=role.selected (change)="onRoleCheck(role)"></mat-checkbox></td>
        <td>{{role.keyString}}</td>
        <td>{{role.Users.length}}</td>
        <td>{{role.Privileges.length}}</td>
        <td>{{role.createdAt | date: 'short'}}</td>
        <td>{{role.updatedAt | date: 'short'}}</td>
      </tr>
    </tbody>
  </table>

</section>
