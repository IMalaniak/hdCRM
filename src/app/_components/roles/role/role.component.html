<section class="app-content-box" [title]="'ROLECOMPONENT.Header'" *ngIf="role">
  <section content class="row">
    <div class="col-sm-8">
      <div class="form-row">
        <div class="form-group col-md-12">
          <label for="keyString">{{ 'ROLECOMPONENT.Form.labels.name' | translate}}: </label>
          <input type="text" [(ngModel)]="role.keyString" name="keyString" [ngClass]="{'form-control': editForm, 'form-control-plaintext': !editForm}" [readonly]="!editForm" placeholder="">
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-4 user-roles">
          <label class="label">{{ 'ROLECOMPONENT.Role.privileges' | translate}}:</label>
          <ul *ngIf="!editForm" class="list-group">
            <ng-container *ngFor="let privilege of privileges">
              <li class="list-group-item"  *ngIf="privilege.selected">{{ 'GLOBAL.Privileges.' + privilege.keyString | translate}}</li>
            </ng-container>
          </ul>

          <ul *ngIf="editForm" class="list-group">
            <ng-container *ngFor="let privilege of privileges">
              <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ 'GLOBAL.Privileges.' + privilege.keyString | translate}}
                <mat-checkbox [(ngModel)]="privilege.selected" value="{{privilege.id}}"></mat-checkbox>
              </li>
            </ng-container>
          </ul>
        </div>
      </div>
    </div>

    <div class="col-sm-4">
      <label>{{ 'ROLECOMPONENT.Role.users' | translate}}:</label>
      <ul class="list-group">
        <ng-container *ngFor="let user of role.Users">
          <li routerLink="/user/{{user.id}}" class="list-group-item">
            <img class="userpic" *ngIf="user.avatar" src="{{baseUrl + user.avatar.location + 'thumbnails/' + user.avatar.title}}" alt="{{user.avatar.title}}">
            <img class="userpic" *ngIf="!user.avatar" src="./assets/images/userpic/noimage_croped.png" alt="noimage">
            <span>{{user.name + ' ' + user.surname}}</span>
          </li>
        </ng-container>
        <button *ngIf="editForm" class="list-group-item list-group-item-action active" (click)="addParticipantDialog()">{{ 'ROLECOMPONENT.Actions.addUser' | translate}}</button>
      </ul>
    </div>
  </section>

  <div buttons *ngIf="editRolePrivilege">
    <button *ngIf="!editForm" class="btn btn-primary" (click)="onClickEdit()">{{ 'ROLECOMPONENT.Actions.edit' | translate}}</button>
    <button *ngIf="editForm" class="btn btn-primary" (click)="onUpdateRoleSubmit()">{{ 'GLOBAL.Actions.saveChanges' | translate}}</button>
    <button *ngIf="editForm" class="btn btn-light"  (click)="onClickCancelEdit()">{{ 'GLOBAL.Actions.cancelEdit' | translate}}</button>
  </div>

</section>
