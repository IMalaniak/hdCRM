<section class="app-content-box" [title]="'Chat list'" [showDataLoader]="loading$ | async">

    <!-- <div buttons *ngIf="addDepPrivilege$ | async">
      <button mat-raised-button color="primary" class="crm-button" routerLink="/departments/add"><fa-icon [icon]="['fas', 'plus']"></fa-icon><span i18n="@@departmentsComponentActionsCreate">Create a new department</span></button>
    </div> -->
  
    <div content class="table-container">
        <mat-table class="crm-table" [dataSource]="dataSource" matSort matSortDisabled>
            <ng-container matColumnDef="id">
                <mat-header-cell *matHeaderCellDef mat-sort-header i18n="@@chatsComponentListId">Id</mat-header-cell>
                <mat-cell *matCellDef="let chat">{{ chat.id }}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="messages">
                <mat-header-cell *matHeaderCellDef mat-sort-header i18n="@@chatsComponentListMessages">Messages</mat-header-cell>
                <mat-cell *matCellDef="let chat">{{ chat.messages.length }}</mat-cell>
            </ng-container> 
            
            <ng-container matColumnDef="actions" stickyEnd i18n="@@globalsListActions">
                <mat-header-cell *matHeaderCellDef></mat-header-cell>
                <mat-cell *matCellDef="let chat">
                    <button mat-icon-button [matMenuTriggerFor]="menu">
                        <fa-icon [icon]="['fas', 'ellipsis-v']"></fa-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="chatSelected(chat)">
                            <fa-icon [icon]="['fas', 'info']"></fa-icon>
                            <span i18n="@@departmentsComponentListActionsView">Details</span>
                        </button>
                        <!-- <button mat-menu-item>
                            <fa-icon [icon]="['fas', 'edit']"></fa-icon>
                            <span i18n="@@departmentsComponentListActionsEdit">Edit</span>
                        </button> -->
                    </mat-menu>
                </mat-cell>
            </ng-container>
 
            <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
        </mat-table>
    </div>
    <!-- <mat-paginator content [length]="resultsLength$ | async" [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator> -->
  </section>
  
  
